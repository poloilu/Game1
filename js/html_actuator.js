function HTMLActuator(){this.tileContainer=document.querySelector(".tile-container"),this.scoreContainer=document.querySelector(".score-container"),this.bestContainer=document.querySelector(".best-container"),this.messageContainer=document.querySelector(".game-message"),this.score=0,this.maxTile=0}HTMLActuator.prototype.actuate=function(e,t){var o=this;window.requestAnimationFrame((function(){o.clearContainer(o.tileContainer),e.cells.forEach((function(e){e.forEach((function(e){e&&o.addTile(e)}))})),o.updateScore(t.score),o.updateBestScore(t.bestScore),t.terminated&&(t.over?o.message(!1):t.won&&o.message(!0))}))},HTMLActuator.prototype.continueGame=function(){this.clearMessage()},HTMLActuator.prototype.clearContainer=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},HTMLActuator.prototype.addTile=function(e){var t=this,o=document.createElement("div"),a=document.createElement("div"),i=e.previousPosition||{x:e.x,y:e.y},n=this.positionClass(i),s=["tile","tile-"+e.value,n];e.value>2048&&s.push("tile-super"),this.applyClasses(o,s),a.classList.add("tile-inner"),a.textContent=e.value,e.previousPosition?window.requestAnimationFrame((function(){s[2]=t.positionClass({x:e.x,y:e.y}),t.applyClasses(o,s)})):e.mergedFrom?(s.push("tile-merged"),this.applyClasses(o,s),e.mergedFrom.forEach((function(e){t.addTile(e)}))):(s.push("tile-new"),this.applyClasses(o,s)),o.appendChild(a),this.tileContainer.appendChild(o),this.showBadge(e.value,!0)},HTMLActuator.prototype.applyClasses=function(e,t){e.setAttribute("class",t.join(" "))},HTMLActuator.prototype.normalizePosition=function(e){return{x:e.x+1,y:e.y+1}},HTMLActuator.prototype.positionClass=function(e){return"tile-position-"+(e=this.normalizePosition(e)).x+"-"+e.y},HTMLActuator.prototype.updateScore=function(e){this.clearContainer(this.scoreContainer);var t=e-this.score;if(this.score=e,this.scoreContainer.textContent=this.score,t>0){var o=document.createElement("div");o.classList.add("score-addition"),o.textContent="+"+t,this.scoreContainer.appendChild(o)}},HTMLActuator.prototype.updateBestScore=function(e){this.bestContainer.textContent=e},HTMLActuator.prototype.showBadge=function(e,t){const o=void 0===window.maxClaimedValue?9999:window.maxClaimedValue;if(e>=16&&e>=this.maxTile&&e>o){t&&(document.getElementById("badge").style="");const o=document.getElementById("badge-image"),a=document.getElementById("badge-description"),i={16:{image:"https://arweave.net/sv0csl4RG5ikMBuaACrvojm-EzcbTi-3ThScTTsVBdc",text:"Casual Amateur"},32:{image:"https://arweave.net/_t8bsaO1Q7RjoxRIZSXQRwtl916L7m8XwSjeWg1fBa8",text:"Amateur"},64:{image:"https://arweave.net/2fTevWYameF4ZJtu9NxgWqa_fGjQ_f8Da0qTwTOI_Dg",text:"Impressive Amateur"},128:{image:"https://arweave.net/1z_SHqdfIQBb6QvIKkhvVn14PmxjltZnRdFSdsoJIDQ",text:"Novice Expert"},256:{image:"https://arweave.net/b7o0WJcyD0BHVvQvlqbgy1HRUQW7iuHpxLalzyL061E",text:"Growing Expert"},512:{image:"https://arweave.net/ql44u1TetxqFQLYW2f-VDGQGS_ZwC9o68USpdEuwKbs",text:"Expert"},1024:{image:"https://arweave.net/_SOBVh01rBEEnbXxF5rx9MaQBKFbtM5tZdvq0qzoC7A",text:"Amazing Expert"},2048:{image:"https://arweave.net/QW9doLmmWdQ-7t8GZ85HtY8yzutoir8lGEJP9zOPQqA",text:"Winner"}};o.src=i[e].image,a.innerHTML=`This player has unlocked the ${e} tile on Ethos 2048. They are a ${i[e].text}!`,this.maxTile=e}},HTMLActuator.prototype.message=function(e){var t=e?"game-won":"game-over",o=e?"You win!":"Game over!";this.messageContainer.classList.add(t),this.messageContainer.getElementsByTagName("p")[0].textContent=o},HTMLActuator.prototype.clearMessage=function(){this.messageContainer.classList.remove("game-won"),this.messageContainer.classList.remove("game-over")};